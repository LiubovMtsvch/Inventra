<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Стили -->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/CourseProjectitr.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    @Html.Raw("<link href='https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.css' rel='stylesheet' />")
    @RenderSection("Styles", required: false)

    <!-- Скрипты -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    @Html.Raw("<script src='https://cdn.jsdelivr.net/npm/@yaireo/tagify'></script>")

    <!-- Скрипт для сохранения темы -->
    <script>
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme) {
            document.documentElement.setAttribute("data-theme", savedTheme);
        }
    </script>
</head>

<body>
    <header class="border-bottom mb-3" style="background-color: var(--bg-color); color: var(--text-color); transition: background-color 0.3s ease, color 0.3s ease;">
        <div class="container d-flex justify-content-between align-items-center py-2">
            <a class="navbar-brand fw-bold text-primary" href="/">Inventra</a>

            <!-- Кнопка переключения темы -->
            @* <button id="themeToggle" class="button-13">🌙 Toggle Theme</button> *@

            <form asp-controller="Home" asp-action="Index" method="get" class="d-flex" role="search">
                <input name="query" class="form-control me-2" type="search"
                       placeholder="Search by title, category, or tags"
                       aria-label="Search"
                       value="@Context.Request.Query["query"]">
                <button class="btn btn-outline-primary" type="submit">
                    <i class="fas fa-search"></i>
                </button>
            </form>
        </div>
    </header>

    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    @await RenderSectionAsync("Scripts", required: false)

    <script>
        const toggle = document.getElementById("themeToggle");
        const root = document.documentElement;

        toggle.addEventListener("click", () => {
            const current = root.getAttribute("data-theme");
            const next = current === "dark" ? "light" : "dark";
            root.setAttribute("data-theme", next);
            localStorage.setItem("theme", next);
        });
    </script>
</body>
</html>
